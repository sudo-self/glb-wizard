<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlbCraft Wizardry ‚ú® | Advanced 3D Model Creator</title>
    <meta name="description" content="Create magical 3D models from text, images, or primitive shapes. Export to GLB/STL with our intuitive web-based 3D modeling tool.">
    <link rel="stylesheet" href="style.css">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/exporters/GLTFExporter.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/FontLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/geometries/TextGeometry.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/TextureLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/geometries/LatheGeometry.js"></script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#6366f1">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßô‚Äç‚ôÇÔ∏è</text></svg>">
</head>
<body class="bg-gradient-surface min-h-screen">
    <custom-navbar></custom-navbar>
    
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
        <!-- Hero Section -->
        <section class="text-center mb-12 sm:mb-16 animate-slide-up">
            <div class="inline-block relative mb-4">
                <div class="absolute inset-0 bg-gradient-primary rounded-2xl blur-xl opacity-20 animate-pulse"></div>
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-black relative">
                    <span class="gradient-text">GlbCraft Wizardry</span>
                    <span class="ml-3">üßô‚Äç‚ôÇÔ∏è</span>
                </h1>
            </div>
            <p class="text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto mb-6">
                Transform your imagination into stunning 3D models with our magical creation tools
            </p>
            <div class="flex flex-wrap justify-center gap-3 mt-8">
                <span class="px-4 py-2 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 rounded-full text-sm font-medium border border-indigo-100">
                    <i data-feather="zap" class="w-4 h-4 inline mr-2"></i>
                    Real-time Preview
                </span>
                <span class="px-4 py-2 bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 rounded-full text-sm font-medium border border-green-100">
                    <i data-feather="download" class="w-4 h-4 inline mr-2"></i>
                    Export to GLB/STL
                </span>
                <span class="px-4 py-2 bg-gradient-to-r from-pink-50 to-rose-50 text-pink-700 rounded-full text-sm font-medium border border-pink-100">
                    <i data-feather="sparkles" class="w-4 h-4 inline mr-2"></i>
                    AI-Powered Features
                </span>
            </div>
        </section>

        <!-- Main Workspace -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
            <!-- 3D Viewer Section -->
            <section class="lg:col-span-2 space-y-6">
                <div class="card glass hover-scale">
                    <div class="card-header">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center">
                                    <i data-feather="eye" class="w-5 h-5 text-white"></i>
                                </div>
                                <div>
                                    <h2 class="text-xl font-bold text-gray-900">3D Preview Canvas</h2>
                                    <p class="text-sm text-gray-500">Real-time rendering of your model</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button onclick="resetView()"
                                        class="btn btn-secondary group"
                                        title="Reset camera view">
                                    <i data-feather="rotate-ccw" class="w-4 h-4 group-hover:rotate-180 transition-transform"></i>
                                    <span class="hidden sm:inline">Reset View</span>
                                </button>
                                <button onclick="toggleWireframe()"
                                        class="btn btn-secondary group"
                                        title="Toggle wireframe mode">
                                    <i data-feather="grid" class="w-4 h-4"></i>
                                    <span class="hidden sm:inline">Wireframe</span>
                                </button>
                                <button onclick="toggleGrid()"
                                        class="btn btn-secondary group"
                                        title="Toggle grid visibility">
                                    <i data-feather="layout" class="w-4 h-4"></i>
                                    <span class="hidden sm:inline">Grid</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div id="3d-container" class="w-full h-96 lg:h-[500px] relative">
                            <!-- Canvas overlay for controls -->
                            <div class="canvas-overlay"></div>
                            <!-- Loading indicator -->
                            <div id="canvasLoading" class="absolute inset-0 flex items-center justify-center bg-white/80 hidden z-10">
                                <div class="text-center">
                                    <div class="spinner spinner-lg spinner-primary mx-auto"></div>
                                    <p class="mt-3 text-gray-600 font-medium">Loading 3D Engine...</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center justify-between px-6 py-4 bg-gradient-to-r from-gray-50/50 to-white/50 border-t border-gray-100">
                            <div class="text-sm text-gray-600">
                                <span class="flex items-center gap-2">
                                    <i data-feather="mouse-pointer" class="w-4 h-4"></i>
                                    <span>Drag: Rotate ‚Ä¢ Scroll: Zoom ‚Ä¢ Right-click: Pan</span>
                                </span>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="text-sm font-medium text-gray-700">
                                    <span id="poly-count">0</span> polygons
                                </div>
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse" title="Live rendering"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                    <button onclick="clearScene()"
                            class="card glass hover-lift group text-center py-4">
                        <i data-feather="trash-2" class="w-6 h-6 text-gray-500 group-hover:text-red-500 mx-auto mb-2 transition-colors"></i>
                        <span class="text-sm font-medium text-gray-700">Clear Scene</span>
                    </button>
                    <button onclick="saveScene()"
                            class="card glass hover-lift group text-center py-4">
                        <i data-feather="save" class="w-6 h-6 text-gray-500 group-hover:text-blue-500 mx-auto mb-2 transition-colors"></i>
                        <span class="text-sm font-medium text-gray-700">Save Project</span>
                    </button>
                    <button onclick="loadScene()"
                            class="card glass hover-lift group text-center py-4">
                        <i data-feather="folder" class="w-6 h-6 text-gray-500 group-hover:text-green-500 mx-auto mb-2 transition-colors"></i>
                        <span class="text-sm font-medium text-gray-700">Load Project</span>
                    </button>
                    <button onclick="duplicateModel()"
                            class="card glass hover-lift group text-center py-4">
                        <i data-feather="copy" class="w-6 h-6 text-gray-500 group-hover:text-purple-500 mx-auto mb-2 transition-colors"></i>
                        <span class="text-sm font-medium text-gray-700">Duplicate</span>
                    </button>
                </div>
            </section>

            <!-- Controls Panel -->
            <section class="space-y-6">
                <!-- Text to 3D -->
                <div class="card hover-lift">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg flex items-center justify-center">
                                <i data-feather="type" class="w-5 h-5 text-indigo-600"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900">Text to 3D</h3>
                                <p class="text-sm text-gray-500">Convert text into 3D models</p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Enter your text
                            </label>
                            <div class="flex gap-2">
                                <input type="text"
                                       id="textInput"
                                       placeholder="Type something magical..."
                                       class="flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all"
                                       onkeypress="if(event.key === 'Enter') generateFromText()">
                                <button onclick="generateFromText()"
                                        class="btn btn-primary whitespace-nowrap">
                                    <i data-feather="zap" class="w-4 h-4"></i>
                                    Generate
                                </button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Quick presets
                            </label>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="createText3D('GLB')"
                                        class="p-3 bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 rounded-xl hover:from-indigo-100 hover:to-purple-100 transition-all border border-indigo-100 group">
                                    <i data-feather="box" class="w-4 h-4 mb-1 group-hover:scale-110 transition-transform"></i>
                                    GLB
                                </button>
                                <button onclick="createText3D('‚ù§Ô∏è')"
                                        class="p-3 bg-gradient-to-r from-pink-50 to-rose-50 text-pink-700 rounded-xl hover:from-pink-100 hover:to-rose-100 transition-all border border-pink-100 group">
                                    <i data-feather="heart" class="w-4 h-4 mb-1 group-hover:scale-110 transition-transform"></i>
                                    Love
                                </button>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm">
                                <label class="text-gray-600">Text Depth</label>
                                <span id="textDepthValue" class="font-medium text-indigo-600">0.5</span>
                            </div>
                            <input type="range"
                                   id="textDepth"
                                   min="0.1" max="2" step="0.1" value="0.5"
                                   class="w-full"
                                   oninput="updateTextDepth()">
                        </div>
                        
                        <div class="text-xs text-gray-500 flex items-center gap-1">
                            <i data-feather="info" class="w-3 h-3"></i>
                            Creates extruded 3D text with customizable depth
                        </div>
                    </div>
                </div>

                <!-- Image to 3D -->
                <div class="card hover-lift">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-green-100 to-emerald-100 rounded-lg flex items-center justify-center">
                                <i data-feather="image" class="w-5 h-5 text-green-600"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900">Image to 3D</h3>
                                <p class="text-sm text-gray-500">Generate heightmaps from images</p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body space-y-4">
                        <div class="file-upload-area" id="fileUploadArea">
                            <div class="text-center py-6">
                                <i data-feather="upload-cloud" class="w-12 h-12 text-gray-400 mx-auto mb-3"></i>
                                <input type="file"
                                       id="imageUpload"
                                       accept="image/*"
                                       class="hidden"
                                       onchange="handleImageUpload(event)">
                                <label for="imageUpload" class="cursor-pointer">
                                    <span class="text-indigo-600 font-medium block mb-1">Upload Image</span>
                                    <span class="text-gray-500 text-sm">or drag and drop</span>
                                </label>
                                <p class="text-xs text-gray-400 mt-2">PNG, JPG, WEBP up to 10MB</p>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Sample generators
                            </label>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="generateFromSample('heightmap')"
                                        class="p-3 bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 rounded-xl hover:from-green-100 hover:to-emerald-100 transition-all border border-green-100 group">
                                    <i data-feather="mountain" class="w-4 h-4 mb-1 group-hover:scale-110 transition-transform"></i>
                                    Terrain
                                </button>
                                <button onclick="generateFromSample('logo')"
                                        class="p-3 bg-gradient-to-r from-blue-50 to-cyan-50 text-blue-700 rounded-xl hover:from-blue-100 hover:to-cyan-100 transition-all border border-blue-100 group">
                                    <i data-feather="star" class="w-4 h-4 mb-1 group-hover:scale-110 transition-transform"></i>
                                    Logo
                                </button>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm">
                                <label class="text-gray-600">Height Scale</label>
                                <span id="heightScaleValue" class="font-medium text-green-600">1.0</span>
                            </div>
                            <input type="range"
                                   id="heightScale"
                                   min="0.1" max="5" step="0.1" value="1"
                                   class="w-full"
                                   oninput="updateHeightScale()">
                        </div>
                    </div>
                </div>

                <!-- Shapes & Materials -->
                <div class="card hover-lift">
                    <div class="card-header">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-orange-100 to-amber-100 rounded-lg flex items-center justify-center">
                                <i data-feather="box" class="w-5 h-5 text-orange-600"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-900">Shapes & Materials</h3>
                                <p class="text-sm text-gray-500">Primitive shapes and materials</p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body space-y-6">
                        <!-- Shape Selection -->
                        <div>
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Primitive Shapes</h4>
                            <div class="grid grid-cols-4 gap-2">
                                <button onclick="createShape('box')"
                                        class="aspect-square bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl hover:from-indigo-100 hover:to-purple-100 transition-all border border-indigo-100 group hover-lift">
                                    <i data-feather="cube" class="w-5 h-5 text-indigo-600 mx-auto mb-1 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs font-medium text-gray-700">Cube</span>
                                </button>
                                <button onclick="createShape('sphere')"
                                        class="aspect-square bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl hover:from-blue-100 hover:to-cyan-100 transition-all border border-blue-100 group hover-lift">
                                    <i data-feather="globe" class="w-5 h-5 text-blue-600 mx-auto mb-1 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs font-medium text-gray-700">Sphere</span>
                                </button>
                                <button onclick="createShape('cylinder')"
                                        class="aspect-square bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl hover:from-green-100 hover:to-emerald-100 transition-all border border-green-100 group hover-lift">
                                    <i data-feather="disc" class="w-5 h-5 text-green-600 mx-auto mb-1 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs font-medium text-gray-700">Cylinder</span>
                                </button>
                                <button onclick="createShape('torus')"
                                        class="aspect-square bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl hover:from-pink-100 hover:to-rose-100 transition-all border border-pink-100 group hover-lift">
                                    <i data-feather="circle" class="w-5 h-5 text-pink-600 mx-auto mb-1 group-hover:scale-110 transition-transform"></i>
                                    <span class="text-xs font-medium text-gray-700">Torus</span>
                                </button>
                            </div>
                        </div>

                        <!-- Color & Material -->
                        <div>
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Material & Color</h4>
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-2">Color</label>
                                    <input type="color"
                                           id="customColor"
                                           value="#6366f1"
                                           class="w-full h-10 rounded-xl cursor-pointer"
                                           onchange="changeColor(this.value)">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-2">Material Type</label>
                                    <select id="materialType"
                                            class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"
                                            onchange="changeMaterial()">
                                        <option value="phong">Shiny (Phong)</option>
                                        <option value="lambert">Matte (Lambert)</option>
                                        <option value="basic">Flat (Basic)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-xs text-gray-600 mb-2">Quick Colors</label>
                                <div class="grid grid-cols-6 gap-2">
                                    <button onclick="changeColor('#ef4444')" class="w-8 h-8 bg-red-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Red"></button>
                                    <button onclick="changeColor('#10b981')" class="w-8 h-8 bg-green-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Green"></button>
                                    <button onclick="changeColor('#3b82f6')" class="w-8 h-8 bg-blue-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Blue"></button>
                                    <button onclick="changeColor('#f59e0b')" class="w-8 h-8 bg-yellow-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Yellow"></button>
                                    <button onclick="changeColor('#8b5cf6')" class="w-8 h-8 bg-purple-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Purple"></button>
                                    <button onclick="changeColor('#ec4899')" class="w-8 h-8 bg-pink-500 rounded-lg hover:scale-110 transition-transform shadow-sm" title="Pink"></button>
                                </div>
                            </div>
                        </div>

                        <!-- Size Controls -->
                        <div>
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Size Controls</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <label class="text-gray-600">Width</label>
                                        <span id="widthValue" class="font-medium text-gray-700">1.0</span>
                                    </div>
                                    <input type="range"
                                           id="widthSlider"
                                           min="0.1" max="3" step="0.1" value="1"
                                           class="w-full"
                                           oninput="updateSize()">
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <label class="text-gray-600">Height</label>
                                        <span id="heightValue" class="font-medium text-gray-700">1.0</span>
                                    </div>
                                    <input type="range"
                                           id="heightSlider"
                                           min="0.1" max="3" step="0.1" value="1"
                                           class="w-full"
                                           oninput="updateSize()">
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <label class="text-gray-600">Depth</label>
                                        <span id="depthValue" class="font-medium text-gray-700">1.0</span>
                                    </div>
                                    <input type="range"
                                           id="depthSlider"
                                           min="0.1" max="3" step="0.1" value="1"
                                           class="w-full"
                                           oninput="updateSize()">
                                </div>
                            </div>
                        </div>

                        <!-- Export Section -->
                        <div>
                            <h4 class="text-sm font-semibold text-gray-700 mb-3">Export Model</h4>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="exportGLB()"
                                        class="btn btn-primary hover-glow group">
                                    <i data-feather="download" class="w-4 h-4 group-hover:animate-bounce-subtle"></i>
                                    GLB
                                </button>
                                <button onclick="exportSTL()"
                                        class="btn bg-gradient-to-r from-gray-700 to-gray-900 text-white hover:from-gray-800 hover:to-black group">
                                    <i data-feather="download" class="w-4 h-4"></i>
                                    STL
                                </button>
                            </div>
                            <div class="mt-3 text-center">
                                <button onclick="shareModel()"
                                        class="text-xs text-indigo-600 hover:text-indigo-800 transition-colors flex items-center justify-center gap-1 mx-auto">
                                    <i data-feather="share-2" class="w-3 h-3"></i>
                                    Share Model Link
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Advanced Features -->
        <section class="mt-12">
            <div class="card glass">
                <div class="card-header">
                    <h3 class="text-lg font-bold text-gray-900">Advanced Features</h3>
                    <p class="text-sm text-gray-500">Coming soon: AI-powered modeling tools</p>
                </div>
                <div class="card-body">
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                        <div class="text-center p-4">
                            <div class="w-12 h-12 bg-gradient-primary rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i data-feather="cpu" class="w-6 h-6 text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">AI Shape Generation</h4>
                            <p class="text-sm text-gray-600">Generate complex shapes using natural language prompts</p>
                        </div>
                        <div class="text-center p-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i data-feather="refresh-cw" class="w-6 h-6 text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">Smart Remeshing</h4>
                            <p class="text-sm text-gray-600">Automatically optimize polygon count while preserving details</p>
                        </div>
                        <div class="text-center p-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i data-feather="layers" class="w-6 h-6 text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 mb-2">Material Library</h4>
                            <p class="text-sm text-gray-600">Access hundreds of pre-made materials and textures</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <custom-footer></custom-footer>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="card glass max-w-md mx-4">
            <div class="card-body text-center">
                <div class="spinner spinner-lg spinner-primary mx-auto mb-4"></div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2" id="loadingTitle">Processing</h3>
                <p class="text-gray-600" id="loadingMessage">Please wait while we generate your model...</p>
                <div class="mt-4 w-full bg-gray-200 rounded-full h-1">
                    <div id="loadingProgress" class="bg-gradient-primary h-1 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="notification hidden fixed top-4 right-4 z-50 max-w-sm"></div>

    <!-- Web Components -->
    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Initialize Feather Icons
        document.addEventListener('DOMContentLoaded', () => {
            feather.replace();
            
            // Add some interactivity
            const fileUploadArea = document.getElementById('fileUploadArea');
            if (fileUploadArea) {
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    fileUploadArea.addEventListener(eventName, (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                    }, false);
                });

                ['dragenter', 'dragover'].forEach(eventName => {
                    fileUploadArea.addEventListener(eventName, () => {
                        fileUploadArea.classList.add('drag-over');
                    }, false);
                });

                ['dragleave', 'drop'].forEach(eventName => {
                    fileUploadArea.addEventListener(eventName, () => {
                        fileUploadArea.classList.remove('drag-over');
                    }, false);
                });

                fileUploadArea.addEventListener('drop', (e) => {
                    const files = e.dataTransfer.files;
                    if (files.length > 0 && files[0].type.startsWith('image/')) {
                        handleImageUpload({ target: { files } });
                    }
                }, false);
            }

            // Initialize with a cool 3D text
            setTimeout(() => {
                createText3D('GLB');
            }, 500);

            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 's':
                            e.preventDefault();
                            exportGLB();
                            break;
                        case 'd':
                            e.preventDefault();
                            duplicateModel();
                            break;
                        case 'e':
                            e.preventDefault();
                            clearScene();
                            break;
                    }
                }
            });

            // Add tooltip initialization
            document.querySelectorAll('[title]').forEach(el => {
                el.classList.add('tooltip');
                el.setAttribute('data-tooltip', el.getAttribute('title'));
            });
        });

        // Simple notification system
        window.showNotification = function(message, type = 'info') {
            const toast = document.getElementById('notificationToast');
            const colors = {
                info: 'text-blue-600 bg-blue-50 border-blue-200',
                success: 'text-green-600 bg-green-50 border-green-200',
                warning: 'text-yellow-600 bg-yellow-50 border-yellow-200',
                error: 'text-red-600 bg-red-50 border-red-200'
            };
            
            toast.innerHTML = `
                <div class="flex items-center gap-3 p-4 border rounded-xl ${colors[type]}">
                    <i data-feather="${type === 'success' ? 'check-circle' : type === 'error' ? 'alert-circle' : 'info'}" class="w-5 h-5"></i>
                    <span>${message}</span>
                </div>
            `;
            
            toast.classList.remove('hidden');
            toast.classList.add('animate-slide-up');
            feather.replace(toast);
            
            setTimeout(() => {
                toast.classList.add('hidden');
                toast.classList.remove('animate-slide-up');
            }, 3000);
        };
    </script>
</body>
</html>
